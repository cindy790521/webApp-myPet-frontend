{"ast":null,"code":"var _jsxFileName = \"/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/Favorites.js\",\n    _s = $RefreshSig$();\n\nimport { render } from 'react-dom';\nimport { DnDContainer } from './DnDContainer';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { useCallback, useState, useEffect } from 'react';\nimport MovieDataService from \"../services/movies\";\nimport \"./Favorites.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Favorites = _ref => {\n  _s();\n\n  let {\n    user,\n    favorites,\n    uploadFavorites,\n    retreiveFavorites\n  } = _ref;\n  const [cards, setCards] = useState([]);\n  const getMovies = useCallback(ids => {\n    MovieDataService.getFavoritesMovies(ids.toString()).then(response => {\n      console.log(\"gg\", favorites);\n      setCards(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }, []);\n  useEffect(() => {\n    if (user) {\n      console.log(\"re\");\n      retreiveFavorites(user);\n    } // getMovies(favorites);\n\n  }, []);\n  useEffect(() => {\n    console.log(\"@@\", favorites);\n    getMovies(favorites);\n  }, [favorites]);\n  useEffect(() => {\n    if (user) {\n      let i;\n      let newFavIds = [];\n\n      for (i = 0; i < cards.length; i++) {\n        newFavIds.push(cards[i]._id);\n      }\n\n      console.log(\"new\", newFavIds);\n      let data = {\n        _id: user.googleId,\n        favorites: newFavIds\n      };\n      uploadFavorites(data);\n    }\n\n    console.log(\"fav\", favorites);\n    console.log(\"cards\", cards);\n  }, [cards]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DndProvider, {\n      backend: HTML5Backend,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"favoritesPanel col-2\",\n            children: \"Drag your favorites to rank them\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"favoritesContainer col-6\",\n            children: /*#__PURE__*/_jsxDEV(DnDContainer, {\n              user: user,\n              favorites: favorites,\n              uploadFavorites: uploadFavorites,\n              retreiveFavorites: retreiveFavorites,\n              cards: cards,\n              setCards: setCards\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Favorites, \"az0Rr7XFKmeO9BQmxJaBsLDSyqo=\");\n\n_c = Favorites;\nexport default Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["render","DnDContainer","Col","Row","Container","DndProvider","HTML5Backend","useCallback","useState","useEffect","MovieDataService","Favorites","user","favorites","uploadFavorites","retreiveFavorites","cards","setCards","getMovies","ids","getFavoritesMovies","toString","then","response","console","log","data","catch","e","i","newFavIds","length","push","_id","googleId"],"sources":["/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/Favorites.js"],"sourcesContent":["import { render } from 'react-dom'\nimport { DnDContainer } from './DnDContainer'\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\nimport { useCallback, useState, useEffect } from 'react'\nimport MovieDataService from \"../services/movies\";\nimport \"./Favorites.css\";\n\nconst Favorites = ({\n    user,\n    favorites,\n    uploadFavorites,\n    retreiveFavorites\n}) => {\n  const [cards, setCards] = useState([]);\n\n  const getMovies = useCallback((ids) => {\n    MovieDataService.getFavoritesMovies(ids.toString())\n      .then(response => {\n        console.log(\"gg\", favorites)\n        setCards(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      })\n  }, []);\n\n  useEffect(() => {\n    if (user) {\n      console.log(\"re\")\n      retreiveFavorites(user);\n    }\n    // getMovies(favorites);\n  }, []);\n\n  useEffect(() => {\n    console.log(\"@@\", favorites)\n    getMovies(favorites);\n  }, [favorites]);\n\n  useEffect(() => {\n    if (user) {\n      let i;\n      let newFavIds = [];\n      for (i = 0; i < cards.length; i++) {\n        newFavIds.push(cards[i]._id);\n      }\n      console.log(\"new\", newFavIds);\n      let data = {\n        _id: user.googleId,\n        favorites: newFavIds\n      };\n      uploadFavorites(data);\n    }\n    console.log(\"fav\", favorites)\n    console.log(\"cards\", cards)\n  }, [cards]);\n    return (\n        <div >\n            <DndProvider backend={HTML5Backend}>\n                <Container className={\"\"}>\n                    <Row>\n                        <Col className={\"favoritesPanel col-2\"}>\n                            Drag your favorites to rank them\n                        </Col>\n                        <Col className={\"favoritesContainer col-6\"}>\n                            <DnDContainer\n                                user={user}\n                                favorites={favorites}\n                                uploadFavorites={uploadFavorites}\n                                retreiveFavorites={retreiveFavorites}\n                                cards={cards}\n                                setCards={setCards}\n                            />\n                        </Col>\n                        <Col>\n                        </Col>\n                    </Row>\n                </Container>\n            </DndProvider>\n        </div>\n    )\n}\nexport default Favorites;"],"mappings":"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"},"metadata":{},"sourceType":"module"}