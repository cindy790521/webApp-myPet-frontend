{"ast":null,"code":"var _jsxFileName = \"/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/Movie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport MovieDataService from '../services/movies';\nimport { Link, useParams } from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Image from 'react-bootstrap/Image';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Movie = _ref => {\n  _s();\n\n  let {\n    user\n  } = _ref;\n  let params = useParams();\n  const [movie, setMovie] = useState({\n    id: null,\n    title: \"\",\n    rated: \"\",\n    reviews: []\n  });\n  useEffect(() => {\n    const getMovie = id => {\n      //TODO\n      MovieDataService.getById(id).then(response => {\n        setMovie(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    getMovie(params.id);\n  }, [params.id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poster\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              className: \"bigPicture\",\n              src: movie.poster + \"/100px250\",\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = \"../images/NoPosterAvailable-crop.jpeg\";\n              },\n              fluid: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              as: \"h5\",\n              children: movie.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n                children: movie.plot\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 29\n              }, this), user && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/movies/\" + params.id + \"/review\",\n                state: null,\n                children: \"Add Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this), movie.reviews.map((review, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 reviewsText\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [review.name + \" reviewed on \", moment(review.date).format(\"Do MMMM YYYY\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"review\",\n                  children: review.review\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 37\n                }, this), user && user.googleId === review.user_id && /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: {\n                        pathname: \"/movies/\" + params.id + \"/review\"\n                      } // state={{\n                      //     currentReview:review\n                      // }}\n                      ,\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"link\",\n                      onClick: () => {//TODO:Implement delete behavior\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 43\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Movie, \"2PvhLCDRRP5EqSNtKTfspNTBRWU=\", false, function () {\n  return [useParams];\n});\n\n_c = Movie;\nexport default Movie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["React","useState","useEffect","MovieDataService","Link","useParams","Card","Container","Image","Col","Row","Button","moment","Movie","user","params","movie","setMovie","id","title","rated","reviews","getMovie","getById","then","response","data","catch","e","console","log","poster","target","onerror","src","plot","map","review","index","name","date","format","googleId","user_id","pathname"],"sources":["/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/Movie.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\nimport MovieDataService from '../services/movies';\nimport {Link,useParams} from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Image from 'react-bootstrap/Image';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport moment from 'moment';\n\n\n\nconst Movie=({user})=>{\n\n    let params=useParams();\n    \n    const [movie,setMovie]=useState({\n        id:null,\n        title:\"\",\n        rated:\"\",\n        reviews:[]\n    });\n    \n    useEffect(()=>{\n        const getMovie=id=>{\n            //TODO\n            MovieDataService.getById(id)\n            .then(response=>{\n                setMovie(response.data);\n            })\n            .catch(e=>{\n                console.log(e);\n            });\n\n        }\n        getMovie(params.id)\n    },[params.id]);\n    \n    return(\n        \n        <div>\n            <Container>\n                <Row>\n                    <Col>\n                    <div className=\"poster\">\n                        <Image\n                        className=\"bigPicture\"\n                        src={movie.poster+\"/100px250\"}\n                        onError={(e)=>{\n                            e.target.onerror = null; \n                            e.target.src=\"../images/NoPosterAvailable-crop.jpeg\"}}\n                        fluid />\n                    </div>\n                    </Col>\n                    <Col>\n                    <Card>\n                        <Card.Header as=\"h5\">{movie.title}</Card.Header>\n                        <Card.Body>\n                            <Card.Text>\n                                {movie.plot}\n                            </Card.Text>\n                            {user &&\n                            <Link to={\"/movies/\"+params.id+\"/review\"}\n                            state={null}\n                            >\n                                Add Review\n                                </Link>}\n                        </Card.Body>\n                    </Card>\n                    <h2>Reviews</h2>\n                    <br></br>\n                    {movie.reviews.map((review,index)=>{\n                        return(\n                            <div className=\"d-flex\">\n                                <div className=\"flex-shrink-0 reviewsText\">\n                                    <h5>{review.name+\" reviewed on \"}{moment(review.date).format(\"Do MMMM YYYY\")}</h5>\n                                    <p className=\"review\">{review.review}</p>\n                                    {user && user.googleId===review.user_id &&\n                                    <Row>\n                                        <Col>\n                                        <Link to={{\n                                            pathname:\"/movies/\"+params.id+\"/review\"\n                                        }}\n                                        // state={{\n                                        //     currentReview:review\n                                        // }}\n                                        >\n                                            Edit\n                                        </Link>\n                                        </Col>\n                                        <Col>\n                                          <Button variant=\"link\" onClick={()=>\n                                        {\n                                            //TODO:Implement delete behavior\n                                        }  \n                                        }>\n                                            Delete\n                                        </Button>\n                                        </Col>\n                                    </Row>\n                                    }\n                                </div>\n                            </div>\n                        )\n                    })}\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\n\nexport default Movie;"],"mappings":"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"},"metadata":{},"sourceType":"module"}