{"ast":null,"code":"var _jsxFileName = \"/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/Container.js\",\n    _s = $RefreshSig$();\n\nimport update from 'immutability-helper';\nimport { useCallback, useState, useEffect } from 'react';\nimport { DnDCard } from './DnDCard.js';\nimport MovieDataService from \"../services/movies\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  width: 400\n};\nexport const Container = _ref => {\n  _s();\n\n  let {\n    uploadFavorites,\n    favorites\n  } = _ref;\n  {\n    const getMovies = ids => {\n      //TODO\n      MovieDataService.getFavoritesMovies(ids).then(response => {\n        return response.data;\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    useEffect(() => {\n      let favoritesMovies = getMovies(favorites);\n      setCards(favoritesMovies);\n    }, []);\n    useEffect(() => {\n      let favoritesMovies = getMovies(favorites);\n      setCards(favoritesMovies);\n    }, [favorites]);\n    useEffect(() => {\n      let i;\n      let newFavIds = [];\n\n      for (i = 0; i < cards.length; i++) {\n        newFavIds.push(cards[i]._id);\n      }\n\n      uploadFavorites(newFavIds);\n    }, [cards]);\n    const [cards, setCards] = useState([]);\n    const moveCard = useCallback((dragIndex, hoverIndex) => {\n      setCards(prevCards => update(prevCards, {\n        $splice: [[dragIndex, 1], [hoverIndex, 0, prevCards[dragIndex]]]\n      }));\n    }, []);\n    const renderCard = useCallback((card, index) => {\n      return /*#__PURE__*/_jsxDEV(DnDCard, {\n        index: index,\n        id: card._id,\n        text: card.title,\n        moveCard: moveCard\n      }, card._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this);\n    }, []);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: style,\n        children: cards.map((card, i) => renderCard(card, i))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n};\n\n_s(Container, \"OBxOmo7/qWDVSLVTNEb14Aqvdkk=\");\n\n_c = Container;\n\nvar _c;\n\n$RefreshReg$(_c, \"Container\");","map":{"version":3,"names":["update","useCallback","useState","useEffect","DnDCard","MovieDataService","style","width","Container","uploadFavorites","favorites","getMovies","ids","getFavoritesMovies","then","response","data","catch","e","console","log","favoritesMovies","setCards","i","newFavIds","cards","length","push","_id","moveCard","dragIndex","hoverIndex","prevCards","$splice","renderCard","card","index","title","map"],"sources":["/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/Container.js"],"sourcesContent":["import update from 'immutability-helper'\nimport { useCallback, useState, useEffect } from 'react'\nimport  {DnDCard}  from './DnDCard.js'\nimport MovieDataService from \"../services/movies\";\n\nconst style = {\n  width: 400,\n}\nexport const Container = ({uploadFavorites,favorites}) => {\n  {\n    const getMovies=ids=>{\n      //TODO\n      MovieDataService.getFavoritesMovies(ids)\n      .then(response=>{\n          return (response.data);\n      })\n      .catch(e=>{\n          console.log(e);\n      });\n\n  }\n  \n  useEffect(() => {\n    let favoritesMovies=getMovies(favorites);\n    setCards(favoritesMovies)\n  },[]);\n\n  useEffect(() => {\n    let favoritesMovies=getMovies(favorites);\n    setCards(favoritesMovies)\n  },[favorites]);\n\n  useEffect(() => {\n    let i;\n    let newFavIds=[];\n    for(i=0;i<cards.length;i++){\n      newFavIds.push(cards[i]._id);\n    }\n    uploadFavorites(newFavIds);\n  },[cards]);\n\n    const [cards, setCards] = useState([])\n    const moveCard = useCallback((dragIndex, hoverIndex) => {\n      setCards((prevCards) =>\n        update(prevCards, {\n          $splice: [\n            [dragIndex, 1],\n            [hoverIndex, 0, prevCards[dragIndex]],\n          ],\n        }),\n      )\n    }, [])\n    const renderCard = useCallback((card, index) => {\n      return (\n        <DnDCard\n          key={card._id}\n          index={index}\n          id={card._id}\n          text={card.title}\n          moveCard={moveCard}\n        />\n      )\n    }, [])\n    return (\n      <>\n        <div style={style}>{cards.map((card, i) => renderCard(card, i))}</div>\n      </>\n    )\n    }}\n"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;;;AAEA,MAAMC,KAAK,GAAG;EACZC,KAAK,EAAE;AADK,CAAd;AAGA,OAAO,MAAMC,SAAS,GAAG,QAAiC;EAAA;;EAAA,IAAhC;IAACC,eAAD;IAAiBC;EAAjB,CAAgC;EACxD;IACE,MAAMC,SAAS,GAACC,GAAG,IAAE;MACnB;MACAP,gBAAgB,CAACQ,kBAAjB,CAAoCD,GAApC,EACCE,IADD,CACMC,QAAQ,IAAE;QACZ,OAAQA,QAAQ,CAACC,IAAjB;MACH,CAHD,EAICC,KAJD,CAIOC,CAAC,IAAE;QACNC,OAAO,CAACC,GAAR,CAAYF,CAAZ;MACH,CAND;IAQH,CAVC;;IAYFf,SAAS,CAAC,MAAM;MACd,IAAIkB,eAAe,GAACV,SAAS,CAACD,SAAD,CAA7B;MACAY,QAAQ,CAACD,eAAD,CAAR;IACD,CAHQ,EAGP,EAHO,CAAT;IAKAlB,SAAS,CAAC,MAAM;MACd,IAAIkB,eAAe,GAACV,SAAS,CAACD,SAAD,CAA7B;MACAY,QAAQ,CAACD,eAAD,CAAR;IACD,CAHQ,EAGP,CAACX,SAAD,CAHO,CAAT;IAKAP,SAAS,CAAC,MAAM;MACd,IAAIoB,CAAJ;MACA,IAAIC,SAAS,GAAC,EAAd;;MACA,KAAID,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACE,KAAK,CAACC,MAAhB,EAAuBH,CAAC,EAAxB,EAA2B;QACzBC,SAAS,CAACG,IAAV,CAAeF,KAAK,CAACF,CAAD,CAAL,CAASK,GAAxB;MACD;;MACDnB,eAAe,CAACe,SAAD,CAAf;IACD,CAPQ,EAOP,CAACC,KAAD,CAPO,CAAT;IASE,MAAM,CAACA,KAAD,EAAQH,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;IACA,MAAM2B,QAAQ,GAAG5B,WAAW,CAAC,CAAC6B,SAAD,EAAYC,UAAZ,KAA2B;MACtDT,QAAQ,CAAEU,SAAD,IACPhC,MAAM,CAACgC,SAAD,EAAY;QAChBC,OAAO,EAAE,CACP,CAACH,SAAD,EAAY,CAAZ,CADO,EAEP,CAACC,UAAD,EAAa,CAAb,EAAgBC,SAAS,CAACF,SAAD,CAAzB,CAFO;MADO,CAAZ,CADA,CAAR;IAQD,CAT2B,EASzB,EATyB,CAA5B;IAUA,MAAMI,UAAU,GAAGjC,WAAW,CAAC,CAACkC,IAAD,EAAOC,KAAP,KAAiB;MAC9C,oBACE,QAAC,OAAD;QAEE,KAAK,EAAEA,KAFT;QAGE,EAAE,EAAED,IAAI,CAACP,GAHX;QAIE,IAAI,EAAEO,IAAI,CAACE,KAJb;QAKE,QAAQ,EAAER;MALZ,GACOM,IAAI,CAACP,GADZ;QAAA;QAAA;QAAA;MAAA,QADF;IASD,CAV6B,EAU3B,EAV2B,CAA9B;IAWA,oBACE;MAAA,uBACE;QAAK,KAAK,EAAEtB,KAAZ;QAAA,UAAoBmB,KAAK,CAACa,GAAN,CAAU,CAACH,IAAD,EAAOZ,CAAP,KAAaW,UAAU,CAACC,IAAD,EAAOZ,CAAP,CAAjC;MAApB;QAAA;QAAA;QAAA;MAAA;IADF,iBADF;EAKC;AAAC,CA5DC;;GAAMf,S;;KAAAA,S"},"metadata":{},"sourceType":"module"}