{"ast":null,"code":"var _jsxFileName = \"/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/DnDCard.js\",\n    _s = $RefreshSig$();\n\nimport { useRef } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { ItemTypes } from './ItemTypes.js';\nimport \"./Favorites.css\";\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  border: '1px dashed gray',\n  padding: '0.5rem 1rem',\n  marginBottom: '.5rem',\n  backgroundColor: 'white',\n  cursor: 'move'\n};\nexport const DnDCard = _ref => {\n  _s();\n\n  let {\n    id,\n    text,\n    index,\n    poster,\n    moveCard\n  } = _ref;\n  const ref = useRef(null);\n  const [{\n    handlerId\n  }, drop] = useDrop({\n    accept: ItemTypes.CARD,\n\n    collect(monitor) {\n      return {\n        handlerId: monitor.getHandlerId()\n      };\n    },\n\n    hover(item, monitor) {\n      var _ref$current;\n\n      if (!ref.current) {\n        return;\n      }\n\n      const dragIndex = item.index;\n      const hoverIndex = index; // Don't replace items with themselves\n\n      if (dragIndex === hoverIndex) {\n        return;\n      } // Determine rectangle on screen\n\n\n      const hoverBoundingRect = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.getBoundingClientRect(); // Get vertical middle\n\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2; // Determine mouse position\n\n      const clientOffset = monitor.getClientOffset(); // Get pixels to the top\n\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top; // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n      // Dragging downwards\n\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      } // Dragging upwards\n\n\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      } // Time to actually perform the action\n\n\n      moveCard(dragIndex, hoverIndex); // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n\n      item.index = hoverIndex;\n    }\n\n  });\n  const [{\n    isDragging\n  }, drag] = useDrag({\n    type: ItemTypes.CARD,\n    item: () => {\n      return {\n        id,\n        index\n      };\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  const opacity = isDragging ? 0 : 1;\n  drag(drop(ref));\n  return /*#__PURE__*/_jsxDEV(Container, {\n    ref: ref,\n    className: \"favoritesCard \",\n    style: { ...style,\n      opacity\n    },\n    \"data-handler-id\": handlerId,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"favoritesWrapper\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"favoritesNumber favoritesWrapperIcon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"numberFont\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"favoritesWrapperImg\",\n            children: /*#__PURE__*/_jsxDEV(Card.Img, {\n              className: \"favoritesPoster \",\n              src: poster + \"/100px180\",\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = \"../images/NoPosterAvailable-crop.jpeg\";\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"favoritesTitle\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 6\n  }, this);\n};\n\n_s(DnDCard, \"Bm9lse0dSUrMRW3+tCDIsw+uDQ8=\", false, function () {\n  return [useDrop, useDrag];\n});\n\n_c = DnDCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"DnDCard\");","map":{"version":3,"names":["useRef","useDrag","useDrop","ItemTypes","Card","Col","Row","Container","style","border","padding","marginBottom","backgroundColor","cursor","DnDCard","id","text","index","poster","moveCard","ref","handlerId","drop","accept","CARD","collect","monitor","getHandlerId","hover","item","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","y","isDragging","drag","type","opacity","e","target","onerror","src"],"sources":["/Users/lintsaiju/Documents/5610/MERN Stack Application Project/frontend/src/components/DnDCard.js"],"sourcesContent":["\nimport { useRef } from 'react'\nimport { useDrag, useDrop } from 'react-dnd'\nimport { ItemTypes } from './ItemTypes.js'\nimport\"./Favorites.css\";\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nconst style = {\n  border: '1px dashed gray',\n  padding: '0.5rem 1rem',\n  marginBottom: '.5rem',\n  backgroundColor: 'white',\n  cursor: 'move',\n}\nexport const DnDCard = ({ id, text, index, poster,moveCard }) => {\n  const ref = useRef(null)\n  const [{ handlerId }, drop] = useDrop({\n    accept: ItemTypes.CARD,\n    collect(monitor) {\n      return {\n        handlerId: monitor.getHandlerId(),\n      }\n    },\n    hover(item, monitor) {\n      if (!ref.current) {\n        return\n      }\n      const dragIndex = item.index\n      const hoverIndex = index\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return\n      }\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current?.getBoundingClientRect()\n      // Get vertical middle\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset()\n      // Get pixels to the top\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top\n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return\n      }\n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return\n      }\n      // Time to actually perform the action\n      moveCard(dragIndex, hoverIndex)\n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      item.index = hoverIndex\n    },\n  })\n  const [{ isDragging }, drag] = useDrag({\n    type: ItemTypes.CARD,\n    item: () => {\n      return { id, index }\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  })\n  const opacity = isDragging ? 0 : 1\n  drag(drop(ref))\n  return (\n  \n     <Container ref={ref} className={\"favoritesCard \"} style={{ ...style, opacity }} data-handler-id={handlerId}>\n       <Row>\n       <div className={\"favoritesWrapper\"}>\n        <Col >\n        \n       <div className={\"favoritesNumber favoritesWrapperIcon\"}>\n        <span className={\"numberFont\"}>\n      {index+1}\n      </span>\n      </div>\n        \n      <div className=\"favoritesWrapperImg\">\n      <Card.Img\n          className=\"favoritesPoster \"\n          src={poster+\"/100px180\"}\n          onError={(e)=>{\n              e.target.onerror = null; \n              e.target.src=\"../images/NoPosterAvailable-crop.jpeg\"}}\n          />\n      </div>\n      </Col>\n      </div>\n\n      <div className=\"favoritesTitle\">\n      <Col>\n      {text}\n      </Col>\n      </div>\n     \n      </Row>\n    </Container>\n   \n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}